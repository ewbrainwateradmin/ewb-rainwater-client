<!doctype HTML>
<html lang=en>
    <head>
        <meta charset="utf-8">
        <title>Hans Rosling Center for Population Health</title>
        <link rel="stylesheet" href="css/explore_rainwater.css">
        <script src="src/buttons.js"></script>
        <link href="https://fonts.googleapis.com/css2?family=Encode+Sans&display=swap" rel="stylesheet">
    </head>
    <!--Header:-->
    <header>
        <div class = "header">
          <h1>HANS ROSLING CENTER for POPULATION HEALTH</h1>
          <h2 id="date"></h2>
          <hr id="header_hr">
          <h2 id="time"></h2>
          <img class="logo" src="images/W-Logo_White.png" alt="Logo">
        </div>
    </header>
    <script>
        function getTimeAndDate() {
            var currentDate = document.getElementById("date");
            var currentTime = document.getElementById("time");
            const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]

            var d = new Date();
            var h = d.getHours();
            var m = d.getMinutes();
            var date = monthNames[d.getMonth()] + " " + d.getDate();
            var am = "AM";
            if (h > 12) {
                h = h - 12;
                var am = "PM";
            }
            h = h < 10 ? "0" + h : h;
            m = m < 10 ? "0" + m : m;
            currentDate.innerHTML = date;
            currentTime.innerHTML = h + ":" + m + " " + am;
        }
        getTimeAndDate()
        var interval = setInterval(getTimeAndDate, 1000);
    </script>
    <body>
   <!-- <body onclick = "PanelsOff()"> -->

        <script>
            var time_out = setTimeout(() => {window.location.href = "landing_page";}, 2*60*1000)
            document.onclick = function() {
              clearTimeout(time_out)
              time_out = setTimeout(() => {window.location.href = "landing_page";}, 2*60*1000)
            }
        </script>
        <!--Navigation Bar:-->
        <div class="sidenav">
            <p class="sidebar-text" id="top_nav_text">This Building Operates Using Rainwater.</p>
            <hr id="nav_hr">
            <p class="sidebar-text" id="bottom_nav_text">Water Saved This Month:</p>
            <!--
            <div class="square" id="gallons">
                <p class="number">77</p>
                <p class="description">gallons</p>
            </div>
            <div class="square" id="bathtubs">
                <p class="number">1.8</p>
                <p class="description">bathtubs</p>
            </div>
            -->
            <p class="sidebar-text" id="comming_soon_sidebar">Coming Soon!</p>
        </div>
        <!--Buttons:-->
        <div class="buttons">
            <a href="benefits" class="benefits" id="benefits_button">
                <div class="button1">
                    <p class="tapTo">tap to</p>
                    <p class="description">Learn about the benefits</p>
                </div>
            </a>
            <a href="explore_rainwater" class="rainwater">
                <div class="button2">
                    <p class="tapTo">tap to</p>
                    <p class="description">Explore the rainwater system</p>
                </div>
            </a>
            <a href="explore_rainwater" class="game">
                <div class="button4">
                    <p class="tapTo">rainwater game</p>
                    <p class="description">Will be coming soon!</p>
                </div>
            </a>
        </div>
        <!--Rainwater System-->
        <img class="rainwaterSystem" src="images/rainwaterSystem.png" alt="rainwater">
        <!--Catchment button-->
        <div id="catchment" onclick="togglePanel('catchment', 'catchmentText')" style="display: block">

        </div>
        <!--Catchment panel-->
        <div id="catchmentText" style="display: none">
            <p id="catchmentHeader">
                Catchment System
            </p>
            <div id="arrow1">
                <img class="arrow" src="images/arrow.png" alt="arrow">
            </div>

            <p id="catchmentBody">
                Storm drains on the roof of the building collect enough water in the rainwater cistern to be filtered.
                The rest is diverted to the city waste system, connected under the building.
            </p>
        </div>
        <!--Daytank button-->
        <div id="daytank" onclick="togglePanel('daytank', 'daytankText')" style="display: block">

        </div>
        <!--Daytank panel-->
        <div id="daytankText" style="display: none">
            <p id="daytankHeader">
                Day Tank
            </p>
            <div id="arrow2">
                <img class="arrow" src="images/arrow.png" alt="arrow">
            </div>
            <p id="daytankBody">
                Stores filtered water before it is sent to toilets in the building. It acts as a temporary container between the water filtration and the distribution steps.
            </p>
        </div>
        <!--treatment button-->
        <div id="treatment" onclick="togglePanel('treatment', 'treatmentText')" style="display: block">

        </div>
        <!--treatment panel-->
        <div id="treatmentText" style="display: none">
            <p id="treatmentHeader">
                Treatment Skid
            </p>
            <div id="arrow3">
                <img class="arrow" src="images/arrow.png" alt="arrow">
            </div>
            <p id="treatmentBody">
                Removes particles from the water taken from the cistern, so it can be used throughout the building.
            </p>
        </div>

        <!--cistern button-->
        <div id="cistern" onclick="togglePanel('cistern', 'cisternText')" style="display: block">

        </div>

        <!--cistern panel-->
        <div id="cisternText" style="display: none">
            <p id="cisternHeader">
                Cistern
            </p>
            <div id="arrow4">
                <img class="arrow" src="images/arrow.png" alt="arrow">
            </div>
            <p id="cisternBody">
                Stores 50,000 gallons of rainwater before filtration. The cistern acts as a container for unfiltered water after collection on the roof.
            </p>
        </div>

        <!--flow meter button-->
        <div id="flowMeter" onclick="togglePanel('flowMeter', 'flowMeterText')">

        </div>

        <!--flow meter panel-->
        <div id="flowMeterText" style="display: none">
            <p id="flowMeterHeader">
                Flow Meter
            </p>
            <div id="arrow5">
                <img class="arrow" src="images/arrow.png" alt="arrow">
            </div>
            <p id="flowMeterBody">
                Measures the flow of water through a pipe. An impeller turns as water flows through it, causing the flow meter to emit a signal that can be used to determine the flow rate.
            </p>
        </div>
    </body>
    <script>
        var benefits_button = document.getElementById("benefits_button");
        benefits_button.href = "javascript:void(0)";
        console.log("link off")
        function func(){
          var benefits_button = document.getElementById("benefits_button");
          benefits_button.href = "benefits";
          console.log("link on")
        }
        setTimeout(func, 2500);
    </script>
</html>
